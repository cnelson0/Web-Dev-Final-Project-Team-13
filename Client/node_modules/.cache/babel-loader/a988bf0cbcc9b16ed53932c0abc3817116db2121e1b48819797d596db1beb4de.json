{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cjott\\\\OneDrive\\\\Desktop\\\\Web-Dev-Final-Project-Team-13\\\\Client\\\\src\\\\pages\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport * as API from '../services/api';\nimport TransactionList from '../components/TransactionList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const [defaultUser, setDefaultUser] = useState(null);\n\n  // Load transactions for the given user\n  const loadTransactions = userId => {\n    API.getTransactions().then(data => {\n      setTransactions(data || []); // always ensure it's an array\n    }).catch(err => {\n      console.error(err);\n      setTransactions([]);\n    });\n  };\n\n  // Load default user and their transactions on mount\n  useEffect(() => {\n    API.getDefaultUser().then(user => {\n      setDefaultUser(user);\n      loadTransactions(user._id);\n    }).catch(err => {\n      console.error(err);\n      setTransactions([]); // fallback for UI\n    });\n  }, []);\n\n  // Optional: handle delete if you want deletions from home page too\n  const remove = id => {\n    API.deleteTransaction(id).then(() => loadTransactions(defaultUser._id)).catch(err => console.error(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Transaction History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransactionList, {\n      transactions: transactions,\n      remove: remove\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"Mlspf+ZmkjonCsQP/RecGK3s3VA=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","API","TransactionList","jsxDEV","_jsxDEV","HomePage","_s","transactions","setTransactions","defaultUser","setDefaultUser","loadTransactions","userId","getTransactions","then","data","catch","err","console","error","getDefaultUser","user","_id","remove","id","deleteTransaction","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/cjott/OneDrive/Desktop/Web-Dev-Final-Project-Team-13/Client/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport * as API from '../services/api';\r\nimport TransactionList from '../components/TransactionList';\r\n\r\nfunction HomePage() {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [defaultUser, setDefaultUser] = useState(null);\r\n\r\n  // Load transactions for the given user\r\n  const loadTransactions = (userId) => {\r\n    API.getTransactions()\r\n      .then(data => {\r\n        setTransactions(data || []); // always ensure it's an array\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        setTransactions([]);\r\n      });\r\n  };\r\n\r\n  // Load default user and their transactions on mount\r\n  useEffect(() => {\r\n    API.getDefaultUser()\r\n      .then(user => {\r\n        setDefaultUser(user);\r\n        loadTransactions(user._id);\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        setTransactions([]); // fallback for UI\r\n      });\r\n  }, []);\r\n\r\n  // Optional: handle delete if you want deletions from home page too\r\n  const remove = (id) => {\r\n    API.deleteTransaction(id)\r\n      .then(() => loadTransactions(defaultUser._id))\r\n      .catch(err => console.error(err));\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h1>Transaction History</h1>\r\n      <TransactionList transactions={transactions} remove={remove} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,KAAKC,GAAG,MAAM,iBAAiB;AACtC,OAAOC,eAAe,MAAM,+BAA+B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;;EAEpD;EACA,MAAMW,gBAAgB,GAAIC,MAAM,IAAK;IACnCX,GAAG,CAACY,eAAe,CAAC,CAAC,CAClBC,IAAI,CAACC,IAAI,IAAI;MACZP,eAAe,CAACO,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAI;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBT,eAAe,CAAC,EAAE,CAAC;IACrB,CAAC,CAAC;EACN,CAAC;;EAED;EACAT,SAAS,CAAC,MAAM;IACdE,GAAG,CAACmB,cAAc,CAAC,CAAC,CACjBN,IAAI,CAACO,IAAI,IAAI;MACZX,cAAc,CAACW,IAAI,CAAC;MACpBV,gBAAgB,CAACU,IAAI,CAACC,GAAG,CAAC;IAC5B,CAAC,CAAC,CACDN,KAAK,CAACC,GAAG,IAAI;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClBT,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMe,MAAM,GAAIC,EAAE,IAAK;IACrBvB,GAAG,CAACwB,iBAAiB,CAACD,EAAE,CAAC,CACtBV,IAAI,CAAC,MAAMH,gBAAgB,CAACF,WAAW,CAACa,GAAG,CAAC,CAAC,CAC7CN,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;EACrC,CAAC;EAED,oBACEb,OAAA;IAAKsB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC1BxB,OAAA;MAAAwB,QAAA,EAAI;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5B5B,OAAA,CAACF,eAAe;MAACK,YAAY,EAAEA,YAAa;MAACgB,MAAM,EAAEA;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5D,CAAC;AAEV;AAAC1B,EAAA,CA1CQD,QAAQ;AAAA4B,EAAA,GAAR5B,QAAQ;AA4CjB,eAAeA,QAAQ;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}